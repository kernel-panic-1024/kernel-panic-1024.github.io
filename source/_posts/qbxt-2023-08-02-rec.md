---
title: QBXT 2023.8.2 模拟赛 做题记录
date: 2023-08-02 18:31:14
categories: 做题记录
tags:
  - 图论
---

60 + 0 + 70 + 0．

挂飞了．/qd

ckain 赛时过了 C，拜谢 ckain．

<!-- more -->

## A. 最短路径

一眼分层图最短路，然后我把图建出来了．/qd

## B. 跳棋盘

容易设计一个 $O(n^4)$ 的 DP，考虑如何优化．

首先只考虑决策点在自己左上方的情况，转移方程形如 $f_{i, x, y} \leftarrow f_{i - 1, x^\prime, y^\prime} + x - x^\prime + y - y^\prime$．用一个二维 BIT 维护决策点，然后分讨 $4$ 种绝对值的拆法就行．

赛时看到暴力 70 分就跑了，没想到暴力挂了．/qd

## C. 树

发现这个问题好像不弱于小 Z 的袜子啊！那么直接考虑根号做法．

先考虑链怎么做．直接上序列莫队，插入的时候容斥一下贡献．维护质因子集合的出现情况可以 hash．这里我赛时以为需要开个质数个数平方的桶，于是就直接上 bitset 了．事实上本质不同的集合是序列长度级别的，直接 hash 很对！为啥想不到呢．

正解就是直接上树上莫队．嘴巴会了，没写代码．

## D, 树树树

神仙题，晚些时候问过 yht 再写．
