---
title: 信友队 2023.9.30 模拟赛 做题记录
date: 2023-09-30 18:14:42
categories: 做题记录
---

10 + 30 + 80．

这得分怎么单调增啊．

<!-- more -->

## A. Counting

一点不会，狗都不补．

## B. Graph

构造．/qd

先尝试一下树的部分分！

我们考虑以下的构造方案：

1. 从一个点开始，对树进行 dfs．初始所有点都在 $B$ 集合中．

2. 搜到 $u$ 时，将 $u$ 从 $B$ 移动到 $p$ 中．

3. 从 $u$ 离开时，将 $u$ 从 $p$ 移动到 $A$ 中．

4. 若某次操作后，$|A| = |B|$，那么我们就得到了一组合法的构造．

每次操作都会使得 $|B| - |A|$ 减少 $1$，而 dfs 前 $|B| - |A| = n$，完成 dfs 后 $|B| - |A| = -n$，也就是说一定存在某次操作，操作完后 $|A| = |B|$，不存在无解．

考虑扩展到图上，发现这个做法的唯一阻碍在于，若我们搜出的生成树中有横叉边，那么 $A, B$ 集合间就可能有边．然而如果我们直接选取一棵 dfs 树，那么就解决了这个问题．

## C. 演唱会

HBOI2022 模拟赛．/xia

考虑建出圆方树，那么一条路径上必经的点就是圆方树上两点间的圆点数目．题意转化为求有多少路径 $(u, v)$ 满足 $u$ 和 $v$ 均为圆点，且路径上的圆点数目等于 $L$．

可以简单利用 DSU on tree 解决．卡下常就过了．

也可以利用长链剖分优化 DP 做到 $O(n)$，如果联赛没似就补．
