---
title: QBXT 2023.7.29 模拟赛 做题记录
date: 2023-07-30 14:35:27
categories: 做题记录
---

100 + 70 + 50 + 0．

这字符串场和字符串有什么关系？

挂分．/oh

<!-- more -->

## A. 咒语

将询问离线之后倒序还原位置．

## B. 博得

发现将字符重排和 [这道题](/posts/2023-03-31-sim-reform-solution) 的操作是一样的，那么考虑同样的转化，而 Broder 有一个重要结论就是对于一个串的所有前缀，其变化量总和是 $O(n)$ 的．

那么暴力就行．

## C. 能量水晶

起手写了个分治，我脑子怕是有点问题．/qd

一个数能被开 $k$ 次方根的充要条件是它的唯一分解中，质数上的指数都是 $k$ 的倍数．

那么对每个数将指数序列看成向量，维护向量的前缀和 $\pmod k$，然后就是对每个位置查找在他前面有多少个向量前缀和和它的前缀和相同．这个可以通过 hash + map 解决．

## D. 字符串谷

贺 ppt．/qd

考虑题目所求为两者权值之差，考虑令串 $s_i$ 的权值为 $v_i + \frac{1}{2}\sum_{j} \operatorname{LCP}(s_i, s_j)$．

那么如果两个串都被一个人选中，LCP 恰好被加了两遍．

如果分别被两个人选中，一相减恰好消除．

所以直接对这个权值排序，从大到小以此选择即可。
