---
title: 24OI 2023.8.22 模拟赛 做题记录
date: 2023-08-23 22:27:22
categories: 做题记录
---

100 + 0 + 100 + 60．

<!-- more -->

## 爱

按题意模拟即可．

## 我推的孩子

$\Huge\color{red}{\text{没写代码．}}$

如果两人能走的最长链都不和两人间的简单路径相交，那么直接计算然后比较大小即可．

博弈过程中，两人肯定都沿着出发点间的简单路径走，并且若脱离这条路径能获胜的话就脱离．脱离后二人的决策就无关了，可以直接比较．那么预处理一下从链上某个节点出发能走出的最长链，然后模拟博弈过程即可．

## 阿库亚

按题意模拟即可．

## 露比

打个表，比对系数可知位置 $x$ 上答案的表达式为

$$
\sum_{i \le x} \binom{k - 1 + x - i}{k - 1} a_i
$$

由于 $x$ 在询问时给定，直接维护是困难的（自由度分析？），考虑让我们维护的东西和 $x$ 无关．

考虑逆用 Vandermonde 卷积，有

$$
\begin{aligned}
\text{原式}
&= \sum_{i \le x} \sum_{j \le k - 1} \binom{x}{j} \binom{k - 1 - i}{k - 1 - j} a_i \\
&= \sum_{j \le k - 1} \binom{x}{j} \sum_{i \le x} \binom{k - 1 - i}{k - 1 - j} a_i
\end{aligned}
$$

后面那个 $\sum$ 是一个固定的前缀和形式，于是采用树状数组维护即可．

注意计算上标为负数的组合数时的讨论．
