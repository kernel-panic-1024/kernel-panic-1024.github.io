---
title: QBXT 2023.8.1 模拟赛 做题记录
date: 2023-08-01 18:47:23
categories: 做题记录
tags:
  - 搜索
---

100 + 30 + 91 + 100．

怎么只有乱搞场能过两题啊．/qd

## A. 代数

暴力．

## B. KAKURASU

小游戏网站．/qd

倒着搜索，然后剪掉全选也凑不齐和超出限制的状态．

## C. 卡特兰

先讲讲赛时做法．

考虑构造一个 DAG 状的自动机，接受的字符串数就变成了 DAG 上的路径计数．然后就可以通过构造一定量的重边来减少状态数．

具体而言就是先挂一个有 $6$ 个节点的链，然后对于距 $1$ 号点距离为 $i$ 的节点，由它向终止节点连 $a_{i + 1}$ 条边．注意到字符集大小是 $20$，而 $a_5 = 42$，出边数量不够用，那么由 $4$ 往 $5$ 连 $3$ 条重边，这样 $5$ 就只用往终止节点连 $14$ 条边了．然后类似的构造把 $a_6$ 挂上就行．

最终大约最劣需要 $9$ 个状态，由于最优状态是 $4$ 个，那么可以每个测试点就能拿到 $9$ 分．

赛场大佬们的乱搞是钦定停在 $1$ 上，然后直接搜邻接矩阵．注意到我们知道所有测试点中 $a_6$ 的值，那么打个表就能过去．

题解的剪枝不知所谓．感觉不如搜邻接矩阵！

## D. 完全回文数

[A002779](https://oeis.org/A002779)，然后 LINKS 里面有个 [表](https://oeis.org/A002779/b002779.txt)．拜谢 Hans Havermann, T. D. Noe．

然后我们的 ckain 给不知所谓的题解添加了绝佳的注解！

考虑去搜索一个长度为 $\rm{len}$ 的数字．设当前前 $i$ 位形成的数字为 $S$，后 $i$ 位形成的数字为 $T$．那么当前可能被搜出来的数字形如 $S \dots T$．

从 $S$ 的方面考虑，平方出来的数字在区间 $[S^2 \times 10^{2(\rm{len} - i)}, (S + 1)^2 \times 10^{2(\rm{len} - i)})$．从 $T$ 的方面考虑，平方出来的数字后 $i$ 位一定是 $T^2$ 的后 $i$ 位．

由于这个平方串理应是回文的．我们判断从 $S$ 考虑正着看和从 $T$ 考虑反着看的两个区间是否存在交即可．
